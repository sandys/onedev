/*
 * This file was generated by the Gradle 'init' task.
 */


buildscript {
    repositories {
    mavenCentral()
        jcenter()
        
    }
      dependencies {
        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:latest.release"
    }
//     dependencies {
//         //Check for the latest version here: http://plugins.gradle.org/plugin/com.jfrog.artifactory
//         classpath "org.jfrog.buildinfo:build-info-extractor-gradle:4+"
// //        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:latest.release"
//     }
}

// apply plugin: "com.jfrog.artifactory"

plugins {
    id "java"
    id "eclipse"
    id "maven"
    id "maven-publish"
    id 'com.jfrog.artifactory' version '4.6.2' apply false
    // id "osgi"

        // Apply the java plugin to add support for Java
    // id 'java'

    // Apply the application plugin to add support for building an application
    // id 'application'
}

allprojects {
    group = 'io.onedev'
    version = '3.0.4'
    apply plugin: "com.jfrog.artifactory"

        repositories {
		maven { url "http://dl.bintray.com/freeplane/freeplane" }
		maven { url "http://www.knopflerfish.org/releases/6.1.0/maven2" }
        // this is necessary to grab both binary and source jars
        // for local (git) dependencies
        // flatDir name: 'localGitDepsRepository',
        //         dirs: [rootDir.path + "/freeplane/lib",
        //                rootDir.path + "/freeplane_plugin_jsyntaxpane/lib"]
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'maven-publish'
    apply plugin: "com.jfrog.artifactory"
    apply plugin: 'eclipse'
    // apply plugin: 'osgi'

    repositories {
      jcenter()
      mavenCentral()
      google()
      ivy {
        url "http://download.eclipse.org/tools/cdt/releases/9.4/cdt-9.4.3/plugins/"
        layout 'pattern' , {
            ivy '[artifact]-ivy.xml'
            artifact '[artifact](.[ext])'
        }
    }


     maven 
      {
         url = 'http://artifact.pmease.com/artifactory/pmeaseRepo'
         artifactUrls 'http://artifact.pmease.com/artifactory/pmeaseRepo'
     }


    // maven {
    //     url = 'http://artifact.pmease.com/artifactory/pmeaseRepo'
    // }

    }

    dependencies {
        //  classpath "org.jfrog.buildinfo:build-info-extractor-gradle:4.4.0"
        testImplementation 'junit:junit:4.11'
        testImplementation 'org.mockito:mockito-all:1.9.5'
        testImplementation 'org.powermock:powermock-module-junit4:1.5.1'
        testImplementation 'org.powermock:powermock-api-mockito:1.5.1'

        compile(group: 'org.eclipse.cdt', name: 'org.eclipse.cdt.core', version: '5.11.0.201602051005')
        
    }

    sourceCompatibility = '1.8'

    java {
        withSourcesJar()
    }

    publishing {
        publications {
            maven(MavenPublication) {
                from(components.java)
            }
        }
    }

    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }
}
